<?xml version="1.0" encoding="UTF-8" ?>    
<!DOCTYPE mapper    
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"    
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Survey">
	<select id="getSurveyInfo" parameterType="Survey"
		resultMap="Survey-ResultMappings.ResultForGetSurvey">
		SELECT
		<include refid="Survey-SqlQueries.SelectForGetSurvey" />
		FROM SURVEY
		WHERE
		SURVEY_ID = #{surveyId}
	</select>

	<insert id="submitSurvey" parameterType="Survey">
		INSERT INTO SURVEY
		(CREATED, DESCRIPTION, IS_ACTIVE)
		VALUES(CURRENT_TIMESTAMP,
		#{description}, 0)
	</insert>

	<insert id="updateSurvey" parameterType="Survey">
		UPDATE SURVEY
		SET
		DESCRIPTION = #{description},
		IS_ACTIVE = #{isActive}
		WHERE
		SURVEY_ID =
		#{surveyId}
	</insert>
</mapper>